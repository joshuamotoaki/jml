---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout>
  <div id="cont" class="relative w-full h-screen overflow-hidden bg-light">
    <svg style="position: absolute; width: 0; height: 0;">
      <defs>
        <filter id="pageNoise">
          <feTurbulence baseFrequency="0.3" numOctaves="3" stitchTiles="noStitch"/>
          <feColorMatrix type="saturate" values="0"/>
        </filter>
      </defs>
    </svg>

    <!-- Animated Color Bars -->
    <div class="absolute inset-0 z-10">
      <!-- Red Bar with 劉 -->
      <div class="absolute right-0 w-0 h-32 bg-red-std fuzzy-bar animate-grow-red" 
           style="top: 40%; animation-delay: 0.5s;">
        <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-black text-8xl font-bold opacity-0 animate-fade-in-red">
          劉
        </span>
      </div>
      
      <!-- Yellow Bar with 元 -->
      <div class="absolute right-0 w-0 h-32 bg-yellow-std fuzzy-bar animate-grow-yellow" 
           style="top: 60%; animation-delay: 1s;">
        <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-black text-8xl font-bold opacity-0 animate-fade-in-yellow">
          元
        </span>
      </div>
      
      <!-- Orange Bar with 明 -->
      <div class="absolute right-0 w-0 h-32 bg-orange-std fuzzy-bar animate-grow-orange" 
           style="top: 80%; animation-delay: 1.5s;">
        <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-black text-8xl font-bold opacity-0 animate-fade-in-orange">
          明
        </span>
      </div>
    </div>

  </div>
</BaseLayout>

<style>
  #cont::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    filter: url(#pageNoise);
    opacity: 0.33;
    pointer-events: none;
    z-index: 50;
  }

  .fuzzy-bar {
    box-shadow: 
      0 0 20px rgba(0, 0, 0, 0.1),
      inset 0 0 20px rgba(255, 255, 255, 0.1);
    filter: blur(0.5px);
    border-left: 1px solid rgba(255, 255, 255, 0.2);
  }

  .fuzzy-bar::before {
    content: '';
    position: absolute;
    top: -2px;
    bottom: -2px;
    left: -2px;
    right: -2px;
    background: inherit;
    filter: blur(2px);
    opacity: 0.3;
    z-index: -1;
  }

  /* Red bar - smallest width */
  @keyframes grow-red {
    0% {
      width: 0;
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    100% {
      width: 10%;
      opacity: 1;
    }
  }

  /* Yellow bar - medium width */
  @keyframes grow-yellow {
    0% {
      width: 0;
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    100% {
      width: 20%;
      opacity: 1;
    }
  }

  /* Orange bar - largest width */
  @keyframes grow-orange {
    0% {
      width: 0;
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    100% {
      width: 80%;
      opacity: 1;
    }
  }

    /* Responsive adjustments */
  @media (max-width: 768px) {
    @keyframes grow-red {
      0% {
        width: 0;
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      100% {
        width: 15%;
        opacity: 1;
      }
    }

    @keyframes grow-yellow {
      0% {
        width: 0;
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      100% {
        width: 30%;
        opacity: 1;
      }
    }

    @keyframes grow-orange {
      0% {
        width: 0;
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      100% {
        width: 70%;
        opacity: 1;
      }
    }
  }

  /* Character fade-in animations */
  @keyframes fade-in-character {
    0% { opacity: 0; transform: translateY(-50%) scale(0.8); }
    100% { opacity: 1; transform: translateY(-50%) scale(1); }
  }

  .animate-grow-red {
    animation: grow-red 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .animate-grow-yellow {
    animation: grow-yellow 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .animate-grow-orange {
    animation: grow-orange 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .animate-fade-in-red {
    animation: fade-in-character 1.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    animation-delay: 0.65s;
  }

  .animate-fade-in-yellow {
    animation: fade-in-character 1.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    animation-delay: 1.15s;
  }

  .animate-fade-in-orange {
    animation: fade-in-character 1.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    animation-delay: 1.65s;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .animate-fade-in-red,
    .animate-fade-in-yellow,
    .animate-fade-in-orange {
      font-size: 4rem;
    }
  }
</style>