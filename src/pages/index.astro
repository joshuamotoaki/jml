---
import Header from "../components/Header.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout>
  <Header currentPage="home" />

  <!-- Noise Overlay -->
  <div id="cont" class="relative w-full h-screen overflow-hidden bg-light">
    <svg style="position: absolute; width: 0; height: 0;">
      <defs>
        <filter id="pageNoise">
          <feTurbulence
            baseFrequency="0.3"
            numOctaves="3"
            stitchTiles="noStitch"></feTurbulence>
          <feColorMatrix type="saturate" values="0"></feColorMatrix>
        </filter>
      </defs>
    </svg>

    <!-- Name -->
    <div class="absolute bottom-0 left-0 rotate-270 origin-top-left z-50">
      <h2 class="text-h2 italic font-thin">Joshua Motoaki Lau</h2>
    </div>

    <div
      class="hidden md:block absolute bottom-1/2 left-[20%] w-[40%] top-[35%] z-50"
    >
      <div class="w-full h-full flex flex-col gap-2">
        <h3 class="text-h5">
          There is no reason not to consider the world as one gigantic painting.
        </h3>
        <div class="text-h6 text-dark-hover">- Robert Rauschenberg</div>
        <div class="flex-1 flex justify-end">
          <div class="space-y-4 pt-4">
            <div class="flex flex-col">
              <h4 class="font-bold">Social Media</h4>
              <a
                class="nav-button"
                target="_blank"
                href="https://github.com/joshuamotoaki"
              >
                GitHub
              </a>
              <a
                class="nav-button"
                target="_blank"
                href="https://www.linkedin.com/in/joshua-lau26/"
              >
                LinkedIn
              </a>
            </div>
            <div class="flex flex-col">
              <h4 class="font-bold">Organizations</h4>
              <a
                class="nav-button"
                target="_blank"
                href="https://netsyn.princeton.edu/"
              >
                NetSyn Lab
              </a>
              <a
                class="nav-button"
                target="_blank"
                href="https://tigerapps.org/"
              >
                TigerApps
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Animated Color Bars -->
    <div class="absolute inset-0 z-10">
      <!-- Red Bar with 劉 -->
      <div
        class="absolute right-0 w-0 h-32 bg-red-std fuzzy-bar animate-grow-red"
        style="top: 30%; animation-delay: 0.5s;"
      >
        <span class="zh bar-char animate-fade-in-red"> 劉 </span>
      </div>

      <!-- Yellow Bar with 元 -->
      <div
        class="absolute right-0 w-0 h-32 bg-yellow-std fuzzy-bar animate-grow-yellow"
        style="top: 55%; animation-delay: 1s;"
      >
        <span class="zh bar-char animate-fade-in-yellow"> 元 </span>
      </div>

      <!-- Orange Bar with 明 -->
      <div
        class="absolute right-0 w-0 h-32 bg-orange-std fuzzy-bar animate-grow-orange"
        style="top: 80%; animation-delay: 1.5s;"
      >
        <span class="zh bar-char animate-fade-in-orange"> 明 </span>
      </div>
    </div>
  </div>
</BaseLayout>

<style lang="postcss">
  .bar-char {
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 11rem;
    font-weight: 600;
    opacity: 0;
  }

  #cont::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    filter: url(#pageNoise);
    opacity: 0.33;
    pointer-events: none;
    z-index: 50;
  }

  .fuzzy-bar {
    box-shadow: 
      0 0 20px rgba(0, 0, 0, 0.1),
      inset 0 0 20px rgba(255, 255, 255, 0.1);
    filter: blur(0.5px);
    border-left: 1px solid rgba(255, 255, 255, 0.2);
  }

  .fuzzy-bar::before {
    content: '';
    position: absolute;
    top: -2px;
    bottom: -2px;
    left: -2px;
    right: -2px;
    background: inherit;
    filter: blur(2px);
    opacity: 0.3;
    z-index: -1;
  }

  /* Red bar - smallest width */
  @keyframes grow-red {
    0% {
      width: 0;
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    100% {
      width: 25%;
      opacity: 1;
    }
  }

  /* Yellow bar - medium width */
  @keyframes grow-yellow {
    0% {
      width: 0;
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    100% {
      width: 30%;
      opacity: 1;
    }
  }

  /* Orange bar - largest width */
  @keyframes grow-orange {
    0% {
      width: 0;
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    100% {
      width: 80%;
      opacity: 1;
    }
  }

    /* Responsive adjustments */
  @media (max-width: 768px) {
    @keyframes grow-red {
      0% {
        width: 0;
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      100% {
        width: 15%;
        opacity: 1;
      }
    }

    @keyframes grow-yellow {
      0% {
        width: 0;
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      100% {
        width: 30%;
        opacity: 1;
      }
    }

    @keyframes grow-orange {
      0% {
        width: 0;
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      100% {
        width: 70%;
        opacity: 1;
      }
    }
  }

  /* Character fade-in animations */
  @keyframes fade-in-character {
    0% { opacity: 0; transform: translateY(-50%) scale(0.8); }
    100% { opacity: 1; transform: translateY(-50%) scale(1); }
  }

  .animate-grow-red {
    animation: grow-red 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .animate-grow-yellow {
    animation: grow-yellow 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .animate-grow-orange {
    animation: grow-orange 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .animate-fade-in-red {
    animation: fade-in-character 1.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    animation-delay: 0.65s;
  }

  .animate-fade-in-yellow {
    animation: fade-in-character 1.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    animation-delay: 1.15s;
  }

  .animate-fade-in-orange {
    animation: fade-in-character 1.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    animation-delay: 1.65s;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .animate-fade-in-red,
    .animate-fade-in-yellow,
    .animate-fade-in-orange {
      font-size: 4rem;
    }
  }
</style>
